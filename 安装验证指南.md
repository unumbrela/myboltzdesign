# BoltzDesign å®‰è£…éªŒè¯æŒ‡å— ğŸ§¬

## å½“å‰çŠ¶æ€åˆ†æ

æ ¹æ®ä½ æä¾›çš„å®‰è£…è¾“å‡ºï¼Œå‘ç°ä»¥ä¸‹é—®é¢˜ï¼š

### âœ… å·²å®Œæˆ
- PyRosetta å®‰è£…æˆåŠŸ
- Boltz æƒé‡ä¸‹è½½å®Œæˆ
- Conda ç¯å¢ƒåˆ›å»º

### âŒ æœªå®Œæˆ
- **LigandMPNN æ¨¡å‹æ–‡ä»¶ä¸‹è½½å¤±è´¥**ï¼ˆæ‰€æœ‰ .pt æ–‡ä»¶éƒ½æ˜¯ 0 å­—èŠ‚ï¼‰
- setup.sh åœ¨ LigandMPNN æ­¥éª¤å¡ä½æˆ–å¤±è´¥

### âš ï¸ ç¯å¢ƒé—®é¢˜
- ä½ çš„ç»ˆç«¯æ˜¾ç¤º `(llm)` ç¯å¢ƒï¼Œä½†åº”è¯¥æ˜¯ `(boltz_design)` ç¯å¢ƒ

---

## éªŒè¯æ–¹æ³•

### æ–¹æ³• 1: ä½¿ç”¨éªŒè¯è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# åœ¨ BoltzDesign1 ç›®å½•ä¸‹è¿è¡Œ
bash verify_installation.sh
```

è¿™ä¸ªè„šæœ¬ä¼šæ£€æŸ¥ï¼š
1. Conda ç¯å¢ƒæ˜¯å¦åˆ›å»º
2. Boltz æ˜¯å¦å®‰è£…
3. PyRosetta æ˜¯å¦å¯ç”¨
4. Boltz æƒé‡æ–‡ä»¶å¤§å°
5. **LigandMPNN æ¨¡å‹æ˜¯å¦å®Œæ•´ä¸‹è½½**
6. DAlphaBall æ˜¯å¦å¯æ‰§è¡Œ

---

### æ–¹æ³• 2: æ‰‹åŠ¨éªŒè¯

#### 1. æ£€æŸ¥ conda ç¯å¢ƒ
```bash
conda env list
```
åº”è¯¥èƒ½çœ‹åˆ° `boltz_design` ç¯å¢ƒ

#### 2. æ¿€æ´»æ­£ç¡®çš„ç¯å¢ƒ
```bash
conda activate boltz_design
```
æç¤ºç¬¦åº”è¯¥å˜æˆ `(boltz_design)`

#### 3. æµ‹è¯• Boltz å¯¼å…¥
```bash
python -c "import boltz; print('Boltz OK')"
```

#### 4. æ£€æŸ¥ LigandMPNN æ¨¡å‹
```bash
ls -lh LigandMPNN/model_params/
```
**æ­£å¸¸æƒ…å†µï¼š** æ¯ä¸ª .pt æ–‡ä»¶åº”è¯¥æœ‰ 100-300 MB
**å½“å‰æƒ…å†µï¼š** æ‰€æœ‰æ–‡ä»¶éƒ½æ˜¯ 0 å­—èŠ‚ âŒ

#### 5. æ£€æŸ¥ Boltz æƒé‡
```bash
ls -lh ~/.boltz/boltz1_conf.ckpt
```
åº”è¯¥æ˜¾ç¤ºæ–‡ä»¶å¤§å°ï¼ˆçº¦ 1.5GBï¼‰

---

## ä¿®å¤ LigandMPNN ä¸‹è½½é—®é¢˜

### è‡ªåŠ¨ä¿®å¤ï¼ˆæ¨èï¼‰

```bash
bash fix_ligandmpnn.sh
```

è¿™ä¸ªè„šæœ¬ä¼šï¼š
1. åˆ é™¤æ‰€æœ‰ç©ºçš„æ¨¡å‹æ–‡ä»¶
2. é‡æ–°ä¸‹è½½æ‰€æœ‰ LigandMPNN æ¨¡å‹ï¼ˆæ˜¾ç¤ºè¿›åº¦æ¡ï¼‰
3. ä¸‹è½½æ—¶é—´å–å†³äºç½‘ç»œé€Ÿåº¦ï¼ˆçº¦ 1-2 GB æ•°æ®ï¼‰

### æ‰‹åŠ¨ä¿®å¤

å¦‚æœè‡ªåŠ¨è„šæœ¬å¤±è´¥ï¼Œå¯ä»¥æ‰‹åŠ¨æ“ä½œï¼š

```bash
cd LigandMPNN

# åˆ é™¤ç©ºæ–‡ä»¶
rm model_params/*.pt

# é‡æ–°è¿è¡Œä¸‹è½½è„šæœ¬
bash get_model_params.sh "./model_params"
```

---

## å¸¸è§é—®é¢˜æ’æŸ¥

### Q1: ä¸ºä»€ä¹ˆä¼šä¸‹è½½å¤±è´¥ï¼Ÿ
**å¯èƒ½åŸå› ï¼š**
- ç½‘ç»œè¿æ¥ä¸ç¨³å®š
- é˜²ç«å¢™æ‹¦æˆª
- ä¸‹è½½æœåŠ¡å™¨ä¸´æ—¶ä¸å¯ç”¨
- ç£ç›˜ç©ºé—´ä¸è¶³

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# æ£€æŸ¥ç£ç›˜ç©ºé—´ï¼ˆè‡³å°‘éœ€è¦ 3-4 GBï¼‰
df -h .

# æ£€æŸ¥ç½‘ç»œè¿æ¥
ping files.ipd.uw.edu
```

### Q2: ä¸ºä»€ä¹ˆæç¤ºç¬¦æ˜¯ (llm) è€Œä¸æ˜¯ (boltz_design)ï¼Ÿ
setup.sh å¯èƒ½æ²¡æœ‰å®Œå…¨æˆåŠŸè¿è¡Œã€‚æ‰‹åŠ¨æ¿€æ´»ç¯å¢ƒï¼š
```bash
conda activate boltz_design
```

### Q3: å¦‚ä½•ç¡®è®¤å®‰è£…å®Œå…¨æˆåŠŸï¼Ÿ
è¿è¡ŒéªŒè¯è„šæœ¬åï¼Œçœ‹åˆ°ä»¥ä¸‹è¾“å‡ºè¡¨ç¤ºæˆåŠŸï¼š
```
âœ… Installation appears complete!
```

---

## å®Œæ•´çš„éªŒè¯æµç¨‹

```bash
# æ­¥éª¤ 1: éªŒè¯å½“å‰çŠ¶æ€
bash verify_installation.sh

# æ­¥éª¤ 2: å¦‚æœ LigandMPNN æ¨¡å‹æœªä¸‹è½½ï¼Œè¿è¡Œä¿®å¤
bash fix_ligandmpnn.sh

# æ­¥éª¤ 3: å†æ¬¡éªŒè¯
bash verify_installation.sh

# æ­¥éª¤ 4: æ¿€æ´»ç¯å¢ƒ
conda activate boltz_design

# æ­¥éª¤ 5: æµ‹è¯•è¿è¡Œç¤ºä¾‹
python boltzdesign.py --help
```

---

## æµ‹è¯•æ˜¯å¦å¯ä»¥è¿è¡Œ

å®‰è£…å®Œæˆåï¼Œå¯ä»¥å°è¯•è¿è¡Œæ–‡æ¡£ä¸­çš„ç¤ºä¾‹ï¼š

### å°åˆ†å­è®¾è®¡ç¤ºä¾‹
```bash
conda activate boltz_design

python boltzdesign.py \
  --target_name 7v11 \
  --target_type small_molecule \
  --target_mols OQO \
  --gpu_id 0 \
  --design_samples 2 \
  --suffix 1
```

### DNA/RNA è®¾è®¡ç¤ºä¾‹
```bash
python boltzdesign.py \
  --target_name 5zmc \
  --target_type dna \
  --pdb_target_ids C,D \
  --gpu_id 0 \
  --design_samples 5 \
  --suffix 1
```

---

## å¦‚æœé—®é¢˜ä¾ç„¶å­˜åœ¨

1. æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—
2. æ£€æŸ¥ç½‘ç»œè¿æ¥
3. ç¡®è®¤ç£ç›˜ç©ºé—´å……è¶³
4. å°è¯•æ‰‹åŠ¨ä¸‹è½½å•ä¸ªæ¨¡å‹æ–‡ä»¶æµ‹è¯•

éœ€è¦è¿›ä¸€æ­¥å¸®åŠ©ï¼Œè¯·æä¾›ï¼š
- `verify_installation.sh` çš„å®Œæ•´è¾“å‡º
- ç½‘ç»œè¿æ¥çŠ¶æ€
- å¯ç”¨ç£ç›˜ç©ºé—´
